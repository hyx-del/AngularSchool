<content-header  [collection]="collection">
  <ny-search-input [uri]="'school/teaching-school/order/list'" [pageSize]="50" (collection)="setCollection($event)"></ny-search-input>
</content-header>

<ny-table [collection]="collection" [showIndex]="true" style="height:100%;"></ny-table>

<nz-drawer [nzVisible]="isShowOrder" nzPlacement="right" [nzTitle]="'订单号'" (nzOnClose)="close()"
[nzWidth]="800" [nzClosable]="false" [nzWrapClassName]="'custom-drawer'">
  <div>
      <div class="form-group">
          <label class="label reset-label">会员:</label>
          <div>
              <input nz-input [(ngModel)]="detailList.student_name"  [disabled]="true"/>
          </div>
      </div>
      <div class="form-group">
          <label class="label reset-label">销售:</label>
          <div>
            <input nz-input  [(ngModel)]="detailList.salesman_name"  [disabled]="true"/>
          </div>
      </div>
      <div class="form-group">
        <label class="label reset-label">订单金额:</label>
        <div>
          <input nz-input  [(ngModel)]="detailList.total" [disabled]="true"/>
        </div>
    </div>
      <div class="form-group">
          <label class="label reset-label">订单状态:</label>
          <div>
              <input nz-input [(ngModel)]="statusList[detailList.status]"  [disabled]="true"/>
          </div>
      </div>
      <div class="form-group">
          <label class="label reset-label">下单时间:</label>
          <div>
              <input nz-input  [(ngModel)]="detailList.created_at"  [disabled]="true"/>
          </div>
      </div>
      <div class="form-group">
          <label class="label reset-label">操作人:</label>
          <div>
              <input nz-input [(ngModel)]="detailList.operator_name" [disabled]="true"/>
          </div>
      </div>
      <div style="margin-bottom: 15px">
          <h3>支付方式</h3>
          <nz-table [nzData]="payOrder" [nzShowPagination]="false" [nzFrontPagination]="false" [nzSize]="'small'" nzBordered>
              <thead>
              <tr>
                  <th nzWidth="180px">支付方式</th>
                  <th nzWidth="260px">金额</th>
                  <th>付款时间</th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let data of payOrder">
                  <td>{{ payWayOptions[data.channel] }}</td>
                  <td>{{ data.amount }}</td>
                  <td>{{ data.updated_at }}</td>
              </tr>
              </tbody>
          </nz-table>
      </div>
      <div>
          <h3>订单明细：</h3>
          <nz-table [nzData]="orderDetailList" [nzShowPagination]="false" [nzFrontPagination]="false" [nzSize]="'small'" nzBordered >
              <thead>
              <tr>
                  <th nzWidth="180px">类型</th>
                  <th nzWidth="260px">学期</th>
                  <th>金额</th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let data of orderDetailList">
                  <td>{{ payTypeOptions[data.type] }}</td>
                  <td>{{ detailList.semester_name }}</td>
                  <td>{{ data.total }}</td>
              </tr>
              </tbody>
          </nz-table>
      </div>
  </div>
</nz-drawer>
